<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório de Anúncios do Facebook</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Tela de Seleção de Relatório -->
    <div class="container" id="reportSelectionScreen" style="display: none;">
        <h1>Selecione o Tipo de Relatório</h1>
        <button id="simpleReportBtn">Relatório Simplificado</button>
        <button id="completeReportBtn">Relatório Completo</button>
    </div>

    <!-- Tela do Relatório Simplificado -->
    <div class="container" id="mainContent" style="display: none;">
        <h1>Relatório Simplificado</h1>
        <form id="form">
            <div class="form-group">
                <label for="unitId">Unidade:</label>
                <select id="unitId" required>
                    <option value="">Escolha a unidade</option>
                </select>
            </div>
            <div class="form-group">
                <label for="startDate">Data Início:</label>
                <input type="date" id="startDate" required>
            </div>
            <div class="form-group">
                <label for="endDate">Data Fim:</label>
                <input type="date" id="endDate" required>
            </div>
            <div class="form-group">
                <button type="button" id="filterCampaigns" class="btn-primary">Campanhas</button>
                <button type="button" id="filterAdSets" class="btn-primary">Conjuntos</button>
            </div>
            <button type="submit">Gerar Relatório</button>
        </form>
        <div id="reportContainer"></div>
        <button id="shareWhatsAppBtn">Compartilhar no WhatsApp</button>
        <button id="backToReportSelectionBtn">Voltar</button>
    </div>

    <!-- Modal de Filtro de Campanhas -->
    <div id="campaignsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Selecione as Campanhas</h2>
            <input type="text" id="campaignSearch" class="search-bar" placeholder="Pesquisar campanhas...">
            <div id="campaignsList"></div>
            <button type="button" id="closeCampaignsModal" class="btn-primary">Fechar</button>
        </div>
    </div>

    <!-- Modal de Filtro de Conjuntos de Anúncios -->
    <div id="adSetsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Selecione os Conjuntos de Anúncios</h2>
            <input type="text" id="adSetSearch" class="search-bar" placeholder="Pesquisar conjuntos...">
            <div id="adSetsList"></div>
            <button type="button" id="closeAdSetsModal" class="btn-primary">Fechar</button>
        </div>
    </div>

    <!-- SDK do Facebook -->
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId: '618519427538646',
                cookie: true,
                xfbml: true,
                version: 'v20.0'
            });
            FB.AppEvents.logPageView();
            console.log("Facebook SDK inicializado com sucesso!");
        };
    </script>
    <script src="app.js"></script>
</body>
</html>